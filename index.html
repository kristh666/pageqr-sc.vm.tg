<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Para mi amor ‚ù§Ô∏è</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,Segoe UI,sans-serif;
  background:linear-gradient(135deg,#ffdde1,#ee9ca7);
  min-height:100vh;color:#333
}
header{text-align:center;padding:2rem 1rem 1rem}
header h1{font-size:2.2rem;margin:0}

.container{
  max-width:1000px;margin:0 auto;padding:1rem;
  display:grid;gap:1rem
}
.card{
  background:#fff;border-radius:1rem;padding:1rem;
  box-shadow:0 10px 25px rgba(0,0,0,.15)
}
button{
  border:none;border-radius:999px;padding:.5rem 1rem;
  background:#ee6a7c;color:#fff;cursor:pointer
}
.gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem}
.gallery img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:.5rem}

#board{position:relative;width:100%;max-width:600px;aspect-ratio:5/4;margin:1rem auto;background:#ffe9ee;border-radius:1rem}
#tray{display:flex;flex-wrap:wrap;gap:4px;justify-content:center;margin-top:1rem}
.piece{cursor:grab;border-radius:2px}

#locked{display:none;animation:fadeIn 1s ease}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

.envelope{
  width:120px;height:80px;margin:1rem auto;
  background:#ee6a7c;border-radius:0 0 10px 10px;
  position:relative;cursor:pointer
}
.envelope:before{
  content:"";position:absolute;top:0;left:0;
  width:0;height:0;border-left:60px solid transparent;
  border-right:60px solid transparent;border-bottom:40px solid #f08fa0
}
.letter{
  display:none;background:#fff;border-radius:.5rem;
  padding:1rem;margin-top:1rem;animation:fadeIn 1s ease
}

footer{text-align:center;padding:1rem;opacity:.8}
</style>
</head>
<body>

<header>
  <h1>Para mi amor ‚ù§Ô∏è</h1>
  <p>Un peque√±o regalo hecho con todo mi cari√±o</p>
</header>

<main class="container">

<!-- üì∏ Book inicial -->
<section class="card">
  <h2>üì∏ Nuestro Book de Fotos</h2>
  <div class="gallery">
    <img src="inicio1.jpg">
    <img src="inicio2.jpg">
    <img src="inicio3.jpg">
    <img src="inicio4.jpg">
    <img src="inicio5.jpg">
    <img src="inicio6.jpg">
  </div>
</section>

<!-- üß© Rompecabezas -->
<section class="card" style="text-align:center">
  <h2>üß© Nuestro Rompecabezas</h2>
  <p>Completalo para desbloquear la sorpresa üîê</p>
  <button onclick="initPuzzle()">Iniciar rompecabezas</button>
  <div id="board"></div>
  <div id="tray"></div>
</section>

<!-- üîì Secci√≥n bloqueada -->
<section class="card" id="locked">
  <h2>üîì Un recuerdo especial</h2>
  <div class="gallery" style="grid-template-columns:repeat(2,1fr)">
    <img src="recuerdo1.jpg">
    <img src="recuerdo2.jpg">
    <img src="recuerdo3.jpg">
    <img src="recuerdo4.jpg">
  </div>
  <p style="margin-top:1rem">
    Ac√° escrib√≠s el texto que acompa√±a estas fotos‚Ä¶ üíñ
  </p>

  <!-- ‚úâÔ∏è Sobre -->
  <div class="envelope" onclick="openLetter()"></div>
  <div class="letter" id="letter">
    <h3>üíå Para vos</h3>
    <p>
      Ac√° pod√©s escribir tu carta‚Ä¶  
      lo que sent√≠s, lo mucho que lo am√°s,  
      o todo lo que quieras decirle ‚ù§Ô∏è
    </p>
  </div>
</section>

</main>

<footer>Hecho con amor üíñ</footer>

<script>
const rows=10, cols=10;
const img='foto.jpg';
const board=document.getElementById('board');
const tray=document.getElementById('tray');
const locked=document.getElementById('locked');

function initPuzzle(){
board.innerHTML=''; tray.innerHTML='';
locked.style.display='none';

const bw=board.clientWidth, bh=board.clientHeight;
const pw=bw/cols, ph=bh/rows;
let pieces=[];

for(let r=0;r<rows;r++){
 for(let c=0;c<cols;c++){
  const d=document.createElement('div');
  d.className='piece';
  d.style.width=pw+'px';
  d.style.height=ph+'px';
  d.style.backgroundImage=`url(${img})`;
  d.style.backgroundSize=`${bw}px ${bh}px`;
  d.style.backgroundPosition=`${-c*pw}px ${-r*ph}px`;
  d.draggable=true;
  d.dataset.r=r; d.dataset.c=c;
  pieces.push(d);
 }
}

for(let r=0;r<rows;r++){
 for(let c=0;c<cols;c++){
  const s=document.createElement('div');
  s.style.position='absolute';
  s.style.left=(c*pw)+'px';
  s.style.top=(r*ph)+'px';
  s.style.width=pw+'px';
  s.style.height=ph+'px';
  s.dataset.r=r; s.dataset.c=c;
  s.ondragover=e=>e.preventDefault();
  s.ondrop=e=>{
    e.preventDefault();
    const id=e.dataTransfer.getData('text');
    const p=document.getElementById(id);
    if(p && p.dataset.r==s.dataset.r && p.dataset.c==s.dataset.c){
      p.style.position='absolute';
      p.style.left=s.style.left;
      p.style.top=s.style.top;
      p.draggable=false;
      board.appendChild(p);
      checkWin();
    }
  };
  board.appendChild(s);
 }
}

pieces.sort(()=>Math.random()-0.5);
pieces.forEach((p,i)=>{
 p.id='p'+i;
 p.ondragstart=e=>e.dataTransfer.setData('text',p.id);
 tray.appendChild(p);
});
}

function checkWin(){
 if(board.querySelectorAll('.piece').length===rows*cols){
  locked.style.display='block';
  locked.scrollIntoView({behavior:'smooth'});
 }
}

function openLetter(){
 document.getElementById('letter').style.display='block';
}
</script>

</body>
</html>
